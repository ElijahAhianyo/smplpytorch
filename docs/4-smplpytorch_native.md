# Smplpytorch Native

[_Documentation generated by Documatic_](https://www.documatic.com)

<!---Documatic-section-Codebase Structure-start--->
## Codebase Structure

<!---Documatic-block-system_architecture-start--->
```mermaid
None
```
<!---Documatic-block-system_architecture-end--->

# #
<!---Documatic-section-Codebase Structure-end--->

<!---Documatic-section-smplpytorch.native.webuser.serialization.ready_arguments-start--->
## [smplpytorch.native.webuser.serialization.ready_arguments](4-smplpytorch_native.md#smplpytorch.native.webuser.serialization.ready_arguments)

<!---Documatic-section-ready_arguments-start--->
```mermaid
flowchart LR
smplpytorch.native.webuser.serialization.ready_arguments-->smplpytorch.native.webuser.posemapper.posemap
```

### Object Calls

* [smplpytorch.native.webuser.posemapper.posemap](4-smplpytorch_native.md#smplpytorch.native.webuser.posemapper.posemap)

<!---Documatic-block-smplpytorch.native.webuser.serialization.ready_arguments-start--->
<details>
	<summary><code>smplpytorch.native.webuser.serialization.ready_arguments</code> code snippet</summary>

```python
def ready_arguments(fname_or_dict):
    import numpy as np
    import pickle
    import chumpy as ch
    from chumpy.ch import MatVecMult
    from smplpytorch.native.webuser.posemapper import posemap
    if not isinstance(fname_or_dict, dict):
        dd = pickle.load(open(fname_or_dict, 'rb'), encoding='latin1')
    else:
        dd = fname_or_dict
    want_shapemodel = 'shapedirs' in dd
    nposeparms = dd['kintree_table'].shape[1] * 3
    if 'trans' not in dd:
        dd['trans'] = np.zeros(3)
    if 'pose' not in dd:
        dd['pose'] = np.zeros(nposeparms)
    if 'shapedirs' in dd and 'betas' not in dd:
        dd['betas'] = np.zeros(dd['shapedirs'].shape[-1])
    for s in ['v_template', 'weights', 'posedirs', 'pose', 'trans', 'shapedirs', 'betas', 'J']:
        if s in dd and (not hasattr(dd[s], 'dterms')):
            dd[s] = ch.array(dd[s])
    if want_shapemodel:
        dd['v_shaped'] = dd['shapedirs'].dot(dd['betas']) + dd['v_template']
        v_shaped = dd['v_shaped']
        J_tmpx = MatVecMult(dd['J_regressor'], v_shaped[:, 0])
        J_tmpy = MatVecMult(dd['J_regressor'], v_shaped[:, 1])
        J_tmpz = MatVecMult(dd['J_regressor'], v_shaped[:, 2])
        dd['J'] = ch.vstack((J_tmpx, J_tmpy, J_tmpz)).T
        dd['v_posed'] = v_shaped + dd['posedirs'].dot(posemap(dd['bs_type'])(dd['pose']))
    else:
        dd['v_posed'] = dd['v_template'] + dd['posedirs'].dot(posemap(dd['bs_type'])(dd['pose']))
    return dd
```
</details>
<!---Documatic-block-smplpytorch.native.webuser.serialization.ready_arguments-end--->
<!---Documatic-section-ready_arguments-end--->

# #
<!---Documatic-section-smplpytorch.native.webuser.serialization.ready_arguments-end--->

<!---Documatic-section-smplpytorch.native.webuser.posemapper.lrotmin-start--->
## [smplpytorch.native.webuser.posemapper.lrotmin](4-smplpytorch_native.md#smplpytorch.native.webuser.posemapper.lrotmin)

<!---Documatic-section-lrotmin-start--->
```mermaid
flowchart LR
smplpytorch.native.webuser.posemapper.lrotmin-->smplpytorch.native.webuser.posemapper.Rodrigues
```

### Object Calls

* smplpytorch.native.webuser.posemapper.Rodrigues

<!---Documatic-block-smplpytorch.native.webuser.posemapper.lrotmin-start--->
<details>
	<summary><code>smplpytorch.native.webuser.posemapper.lrotmin</code> code snippet</summary>

```python
def lrotmin(p):
    if isinstance(p, np.ndarray):
        p = p.ravel()[3:]
        return np.concatenate([(cv2.Rodrigues(np.array(pp))[0] - np.eye(3)).ravel() for pp in p.reshape((-1, 3))]).ravel()
    if p.ndim != 2 or p.shape[1] != 3:
        p = p.reshape((-1, 3))
    p = p[1:]
    return ch.concatenate([(Rodrigues(pp) - ch.eye(3)).ravel() for pp in p]).ravel()
```
</details>
<!---Documatic-block-smplpytorch.native.webuser.posemapper.lrotmin-end--->
<!---Documatic-section-lrotmin-end--->

# #
<!---Documatic-section-smplpytorch.native.webuser.posemapper.lrotmin-end--->

<!---Documatic-section-smplpytorch.native.webuser.posemapper.posemap-start--->
## [smplpytorch.native.webuser.posemapper.posemap](4-smplpytorch_native.md#smplpytorch.native.webuser.posemapper.posemap)

<!---Documatic-section-posemap-start--->
<!---Documatic-block-smplpytorch.native.webuser.posemapper.posemap-start--->
<details>
	<summary><code>smplpytorch.native.webuser.posemapper.posemap</code> code snippet</summary>

```python
def posemap(s):
    if s == 'lrotmin':
        return lrotmin
    else:
        raise Exception('Unknown posemapping: %s' % (str(s),))
```
</details>
<!---Documatic-block-smplpytorch.native.webuser.posemapper.posemap-end--->
<!---Documatic-section-posemap-end--->

# #
<!---Documatic-section-smplpytorch.native.webuser.posemapper.posemap-end--->

[_Documentation generated by Documatic_](https://www.documatic.com)